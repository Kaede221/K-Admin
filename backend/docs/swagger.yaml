basePath: /api/v1
definitions:
  common.Response:
    properties:
      code:
        type: integer
      data: {}
      msg:
        type: string
    type: object
  system.AssignAPIsRequest:
    properties:
      policies:
        items:
          items:
            type: string
          type: array
        type: array
      roleId:
        type: integer
    required:
    - roleId
    type: object
  system.AssignMenusRequest:
    properties:
      menuIds:
        items:
          type: integer
        type: array
      roleId:
        type: integer
    required:
    - roleId
    type: object
  system.ChangePasswordRequest:
    properties:
      newPassword:
        type: string
      oldPassword:
        type: string
    required:
    - newPassword
    - oldPassword
    type: object
  system.CreateMenuRequest:
    properties:
      btnPerms:
        type: string
      component:
        type: string
      meta:
        type: string
      name:
        type: string
      parentId:
        type: integer
      path:
        type: string
      sort:
        type: integer
    required:
    - name
    - path
    type: object
  system.CreateRoleRequest:
    properties:
      dataScope:
        type: string
      remark:
        type: string
      roleKey:
        type: string
      roleName:
        type: string
      sort:
        type: integer
      status:
        type: boolean
    required:
    - roleKey
    - roleName
    type: object
  system.CreateUserRequest:
    properties:
      active:
        type: boolean
      email:
        type: string
      headerImg:
        type: string
      nickname:
        type: string
      password:
        type: string
      phone:
        type: string
      roleId:
        type: integer
      username:
        type: string
    required:
    - password
    - roleId
    - username
    type: object
  system.GetRoleListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/system.SysRole'
        type: array
      total:
        type: integer
    type: object
  system.GetUserListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/system.SysUser'
        type: array
      total:
        type: integer
    type: object
  system.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  system.LoginResponse:
    properties:
      accessToken:
        type: string
      refreshToken:
        type: string
      user:
        $ref: '#/definitions/system.SysUser'
    type: object
  system.ResetPasswordRequest:
    properties:
      newPassword:
        type: string
      userId:
        type: integer
    required:
    - newPassword
    - userId
    type: object
  system.SysMenu:
    properties:
      btnPerms:
        type: string
      children:
        items:
          $ref: '#/definitions/system.SysMenu'
        type: array
      component:
        type: string
      createdAt:
        type: string
      id:
        type: integer
      meta:
        type: string
      name:
        type: string
      parentId:
        type: integer
      path:
        type: string
      sort:
        type: integer
      updatedAt:
        type: string
    type: object
  system.SysRole:
    properties:
      createdAt:
        type: string
      dataScope:
        type: string
      id:
        type: integer
      remark:
        type: string
      roleKey:
        type: string
      roleName:
        type: string
      sort:
        type: integer
      status:
        type: boolean
      updatedAt:
        type: string
    type: object
  system.SysUser:
    properties:
      active:
        type: boolean
      createdAt:
        type: string
      email:
        type: string
      headerImg:
        type: string
      id:
        type: integer
      nickname:
        type: string
      phone:
        type: string
      roleId:
        type: integer
      updatedAt:
        type: string
      username:
        type: string
    type: object
  system.ToggleStatusRequest:
    properties:
      active:
        type: boolean
      userId:
        type: integer
    required:
    - userId
    type: object
  system.UpdateMenuRequest:
    properties:
      btnPerms:
        type: string
      component:
        type: string
      id:
        type: integer
      meta:
        type: string
      name:
        type: string
      parentId:
        type: integer
      path:
        type: string
      sort:
        type: integer
    required:
    - id
    - name
    - path
    type: object
  system.UpdateRoleRequest:
    properties:
      dataScope:
        type: string
      id:
        type: integer
      remark:
        type: string
      roleKey:
        type: string
      roleName:
        type: string
      sort:
        type: integer
      status:
        type: boolean
    required:
    - id
    - roleKey
    - roleName
    type: object
  system.UpdateUserRequest:
    properties:
      active:
        type: boolean
      email:
        type: string
      headerImg:
        type: string
      id:
        type: integer
      nickname:
        type: string
      password:
        description: 可选，如果提供则更新密码
        type: string
      phone:
        type: string
      roleId:
        type: integer
      username:
        type: string
    required:
    - id
    - roleId
    - username
    type: object
  tools.CodeGenColumnInfo:
    properties:
      comment:
        type: string
      default:
        type: string
      extra:
        type: string
      key:
        type: string
      name:
        type: string
      nullable:
        type: boolean
      type:
        type: string
    type: object
  tools.ColumnInfo:
    properties:
      comment:
        type: string
      default:
        type: string
      extra:
        type: string
      key:
        type: string
      name:
        type: string
      nullable:
        type: boolean
      type:
        type: string
    type: object
  tools.FieldConfig:
    properties:
      column_name:
        type: string
      comment:
        type: string
      field_name:
        type: string
      field_type:
        type: string
      form_type:
        type: string
      gorm_tag:
        type: string
      is_primary_key:
        type: boolean
      json_tag:
        type: string
      label:
        type: string
      nullable:
        type: boolean
      searchable:
        type: boolean
      ts_type:
        type: string
    type: object
  tools.GenerateConfig:
    properties:
      fields:
        items:
          $ref: '#/definitions/tools.FieldConfig'
        type: array
      frontend_path:
        type: string
      module_path:
        type: string
      options:
        $ref: '#/definitions/tools.GenerateOptions'
      package_name:
        type: string
      router_path:
        type: string
      struct_name:
        type: string
      table_comment:
        type: string
      table_name:
        type: string
    type: object
  tools.GenerateOptions:
    properties:
      generate_api:
        type: boolean
      generate_frontend_api:
        type: boolean
      generate_frontend_page:
        type: boolean
      generate_frontend_types:
        type: boolean
      generate_model:
        type: boolean
      generate_router:
        type: boolean
      generate_service:
        type: boolean
    type: object
  tools.TableMetadata:
    properties:
      columns:
        items:
          $ref: '#/definitions/tools.CodeGenColumnInfo'
        type: array
      table_comment:
        type: string
      table_name:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: K-Admin 后台管理系统 API 文档
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: K-Admin System API
  version: "1.0"
paths:
  /api/v1/menu:
    post:
      consumes:
      - application/json
      description: 创建新菜单
      parameters:
      - description: 创建菜单请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.CreateMenuRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 创建菜单
      tags:
      - 菜单管理
    put:
      consumes:
      - application/json
      description: 更新菜单信息
      parameters:
      - description: 更新菜单请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.UpdateMenuRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 更新菜单
      tags:
      - 菜单管理
  /api/v1/menu/{id}:
    delete:
      consumes:
      - application/json
      description: 删除菜单（不能删除有子菜单的菜单）
      parameters:
      - description: 菜单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 删除菜单
      tags:
      - 菜单管理
    get:
      consumes:
      - application/json
      description: 根据ID获取菜单详细信息
      parameters:
      - description: 菜单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取菜单详情
      tags:
      - 菜单管理
  /api/v1/menu/all:
    get:
      consumes:
      - application/json
      description: 获取所有菜单列表（不构建树结构）
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取所有菜单
      tags:
      - 菜单管理
  /api/v1/menu/tree:
    get:
      consumes:
      - application/json
      description: 获取菜单树结构，可根据角色过滤
      parameters:
      - description: 角色ID（0表示获取所有菜单）
        in: query
        name: roleId
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取菜单树
      tags:
      - 菜单管理
  /api/v1/role:
    post:
      consumes:
      - application/json
      description: 创建新角色
      parameters:
      - description: 创建角色请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 创建角色
      tags:
      - 角色管理
    put:
      consumes:
      - application/json
      description: 更新角色信息
      parameters:
      - description: 更新角色请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.UpdateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 更新角色
      tags:
      - 角色管理
  /api/v1/role/{id}:
    delete:
      consumes:
      - application/json
      description: 删除角色（不能删除有关联用户的角色）
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 删除角色
      tags:
      - 角色管理
    get:
      consumes:
      - application/json
      description: 根据ID获取角色详细信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取角色详情
      tags:
      - 角色管理
  /api/v1/role/{id}/apis:
    get:
      consumes:
      - application/json
      description: 获取角色已分配的API权限列表
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取角色API权限
      tags:
      - 角色管理
  /api/v1/role/{id}/menus:
    get:
      consumes:
      - application/json
      description: 获取角色已分配的菜单ID列表
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取角色菜单权限
      tags:
      - 角色管理
  /api/v1/role/assign-apis:
    post:
      consumes:
      - application/json
      description: 为角色分配API权限（通过Casbin策略）
      parameters:
      - description: 分配API权限请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.AssignAPIsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 分配失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 分配API权限
      tags:
      - 角色管理
  /api/v1/role/assign-menus:
    post:
      consumes:
      - application/json
      description: 为角色分配菜单权限
      parameters:
      - description: 分配菜单权限请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.AssignMenusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 分配失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 分配菜单权限
      tags:
      - 角色管理
  /api/v1/role/list:
    get:
      consumes:
      - application/json
      description: 获取角色列表，支持分页
      parameters:
      - description: 页码
        in: query
        minimum: 1
        name: page
        required: true
        type: integer
      - description: 每页数量
        in: query
        maximum: 100
        minimum: 1
        name: pageSize
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取角色列表
      tags:
      - 角色管理
  /api/v1/user:
    post:
      consumes:
      - application/json
      description: 创建新用户账户
      parameters:
      - description: 创建用户请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.CreateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 创建用户
      tags:
      - 用户管理
    put:
      consumes:
      - application/json
      description: 更新用户信息
      parameters:
      - description: 更新用户请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 更新用户
      tags:
      - 用户管理
  /api/v1/user/{id}:
    delete:
      consumes:
      - application/json
      description: 删除用户（软删除）
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 删除失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 删除用户
      tags:
      - 用户管理
    get:
      consumes:
      - application/json
      description: 根据ID获取用户详细信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取用户详情
      tags:
      - 用户管理
  /api/v1/user/change-password:
    post:
      consumes:
      - application/json
      description: 用户修改自己的密码（需要验证旧密码）
      parameters:
      - description: 修改密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 修改失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 修改密码
      tags:
      - 用户管理
  /api/v1/user/list:
    get:
      consumes:
      - application/json
      description: 获取用户列表，支持分页和过滤
      parameters:
      - description: 页码
        in: query
        minimum: 1
        name: page
        required: true
        type: integer
      - description: 每页数量
        in: query
        maximum: 100
        minimum: 1
        name: pageSize
        required: true
        type: integer
      - description: 用户名（模糊搜索）
        in: query
        name: username
        type: string
      - description: 昵称（模糊搜索）
        in: query
        name: nickname
        type: string
      - description: 手机号（模糊搜索）
        in: query
        name: phone
        type: string
      - description: 邮箱（模糊搜索）
        in: query
        name: email
        type: string
      - description: 角色ID
        in: query
        name: roleId
        type: integer
      - description: 是否激活
        in: query
        name: active
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 获取用户列表
      tags:
      - 用户管理
  /api/v1/user/login:
    post:
      consumes:
      - application/json
      description: 验证用户凭据并返回访问令牌和刷新令牌
      parameters:
      - description: 登录请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 登录失败
          schema:
            $ref: '#/definitions/common.Response'
      summary: 用户登录
      tags:
      - 用户管理
  /api/v1/user/reset-password:
    post:
      consumes:
      - application/json
      description: 管理员重置用户密码（不需要验证旧密码）
      parameters:
      - description: 重置密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 重置失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 重置密码
      tags:
      - 用户管理
  /api/v1/user/toggle-status:
    post:
      consumes:
      - application/json
      description: 启用或禁用用户账户
      parameters:
      - description: 切换状态请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/system.ToggleStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 操作失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - Bearer: []
      summary: 切换用户状态
      tags:
      - 用户管理
  /tools/db/execute:
    post:
      consumes:
      - application/json
      description: 执行自定义SQL语句，支持查询和修改操作
      parameters:
      - description: SQL请求
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data: {}
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "403":
          description: 权限不足
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 执行SQL语句
      tags:
      - DB Inspector
  /tools/db/tables:
    get:
      consumes:
      - application/json
      description: 获取当前数据库中的所有表名列表
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 获取数据库所有表
      tags:
      - DB Inspector
  /tools/db/tables/{tableName}/data:
    get:
      consumes:
      - application/json
      description: 分页获取指定表的数据记录
      parameters:
      - description: 表名
        in: path
        name: tableName
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 获取表数据
      tags:
      - DB Inspector
  /tools/db/tables/{tableName}/records:
    post:
      consumes:
      - application/json
      description: 在指定表中创建新记录
      parameters:
      - description: 表名
        in: path
        name: tableName
        required: true
        type: string
      - description: 记录数据
        in: body
        name: data
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建表记录
      tags:
      - DB Inspector
  /tools/db/tables/{tableName}/records/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定表中的记录
      parameters:
      - description: 表名
        in: path
        name: tableName
        required: true
        type: string
      - description: 记录ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: 记录不存在
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 删除表记录
      tags:
      - DB Inspector
    put:
      consumes:
      - application/json
      description: 更新指定表中的记录
      parameters:
      - description: 表名
        in: path
        name: tableName
        required: true
        type: string
      - description: 记录ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新数据
        in: body
        name: data
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: 记录不存在
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 更新表记录
      tags:
      - DB Inspector
  /tools/db/tables/{tableName}/schema:
    get:
      consumes:
      - application/json
      description: 获取指定表的列信息，包括列名、类型、是否可空等
      parameters:
      - description: 表名
        in: path
        name: tableName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/tools.ColumnInfo'
                  type: array
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 获取表结构信息
      tags:
      - DB Inspector
  /tools/gen/generate:
    post:
      consumes:
      - application/json
      description: 根据配置生成后端和前端代码，并写入文件
      parameters:
      - description: 生成配置
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/tools.GenerateConfig'
      produces:
      - application/json
      responses:
        "200":
          description: 成功，返回生成的文件路径列表
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 生成代码
      tags:
      - Code Generator
  /tools/gen/metadata/{tableName}:
    get:
      consumes:
      - application/json
      description: 获取指定表的元数据信息，包括列名、类型、约束等
      parameters:
      - description: 表名
        in: path
        name: tableName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/tools.TableMetadata'
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 获取表元数据
      tags:
      - Code Generator
  /tools/gen/preview:
    post:
      consumes:
      - application/json
      description: 根据配置生成代码预览，不写入文件
      parameters:
      - description: 生成配置
        in: body
        name: config
        required: true
        schema:
          $ref: '#/definitions/tools.GenerateConfig'
      produces:
      - application/json
      responses:
        "200":
          description: 成功，返回文件路径和内容的映射
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 预览生成的代码
      tags:
      - Code Generator
  /tools/gen/table:
    post:
      consumes:
      - application/json
      description: 根据字段定义创建新的数据库表
      parameters:
      - description: 创建表请求
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - ApiKeyAuth: []
      summary: 创建数据库表
      tags:
      - Code Generator
securityDefinitions:
  ApiKeyAuth:
    description: 'JWT token format: Bearer {token}'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
