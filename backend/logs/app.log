{"level":"info","timestamp":"2026-02-17T15:19:09.334+0800","caller":"backend/main.go:35","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T15:19:09.346+0800","caller":"backend/main.go:55","msg":"Server starting","port":":8080"}
{"level":"info","timestamp":"2026-02-17T20:34:41.356+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"fatal","timestamp":"2026-02-17T20:34:41.375+0800","caller":"backend/main.go:70","msg":"Failed to initialize database","error":"failed to connect to database: dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"main.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:70\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2026-02-17T20:38:33.828+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"fatal","timestamp":"2026-02-17T20:38:34.147+0800","caller":"backend/main.go:70","msg":"Failed to initialize database","error":"failed to connect to database: invalid connection","stacktrace":"main.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:70\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2026-02-17T20:39:44.663+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T20:39:44.986+0800","caller":"core/gorm.go:58","msg":"Database connected successfully","host":"localhost","port":3306,"database":"k_admin","max_idle_conns":10,"max_open_conns":100}
{"level":"info","timestamp":"2026-02-17T20:39:45.294+0800","caller":"core/redis.go:28","msg":"Redis connection established","host":"localhost","port":6379,"db":0}
{"level":"info","timestamp":"2026-02-17T20:42:34.194+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T20:42:34.516+0800","caller":"core/gorm.go:58","msg":"Database connected successfully","host":"localhost","port":3306,"database":"k_admin","max_idle_conns":10,"max_open_conns":100}
{"level":"info","timestamp":"2026-02-17T20:42:34.823+0800","caller":"core/redis.go:28","msg":"Redis connection established","host":"localhost","port":6379,"db":0}
{"level":"info","timestamp":"2026-02-17T20:42:34.843+0800","caller":"core/casbin.go:40","msg":"Casbin enforcer initialized successfully"}
{"level":"info","timestamp":"2026-02-17T20:42:34.844+0800","caller":"core/migration.go:36","msg":"Starting database migration..."}
{"level":"error","timestamp":"2026-02-17T20:42:34.848+0800","caller":"core/gorm.go:137","msg":"Database query error","error":"Error 1824 (HY000): Failed to open the referenced table 'sys_roles'","elapsed":0.0005238,"sql":"CREATE TABLE `sys_users` (`id` bigint unsigned AUTO_INCREMENT,`created_at` datetime(3) NULL,`updated_at` datetime(3) NULL,`deleted_at` datetime(3) NULL,`username` varchar(50) NOT NULL,`password` varchar(255) NOT NULL,`nickname` varchar(50),`header_img` varchar(255),`phone` varchar(20),`email` varchar(100),`role_id` bigint unsigned NOT NULL,`active` boolean DEFAULT true,PRIMARY KEY (`id`),INDEX `idx_sys_users_deleted_at` (`deleted_at`),UNIQUE INDEX `idx_sys_users_username` (`username`),CONSTRAINT `fk_sys_roles_users` FOREIGN KEY (`role_id`) REFERENCES `sys_roles`(`id`))","rows":0,"stacktrace":"k-admin-system/core.(*gormLogger).Trace\n\tE:/WorkSpace/Personal/K-Admin/backend/core/gorm.go:137\ngorm.io/gorm.(*processor).Execute\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/callbacks.go:140\ngorm.io/gorm.(*DB).Exec\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/finisher_api.go:779\ngorm.io/gorm/migrator.Migrator.CreateTable.func1\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/migrator/migrator.go:309\ngorm.io/gorm/migrator.Migrator.RunWithValue\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/migrator/migrator.go:74\ngorm.io/gorm/migrator.Migrator.CreateTable\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/migrator/migrator.go:218\ngorm.io/gorm/migrator.Migrator.AutoMigrate\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/migrator/migrator.go:125\ngorm.io/gorm.(*DB).AutoMigrate\n\tC:/Users/Kaede/go/pkg/mod/gorm.io/gorm@v1.31.1/migrator.go:24\nk-admin-system/core.RegisterTables\n\tE:/WorkSpace/Personal/K-Admin/backend/core/migration.go:14\nk-admin-system/core.AutoMigrate\n\tE:/WorkSpace/Personal/K-Admin/backend/core/migration.go:38\nmain.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:89\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
{"level":"error","timestamp":"2026-02-17T20:42:34.848+0800","caller":"core/migration.go:21","msg":"Failed to migrate tables","error":"Error 1824 (HY000): Failed to open the referenced table 'sys_roles'","stacktrace":"k-admin-system/core.RegisterTables\n\tE:/WorkSpace/Personal/K-Admin/backend/core/migration.go:21\nk-admin-system/core.AutoMigrate\n\tE:/WorkSpace/Personal/K-Admin/backend/core/migration.go:38\nmain.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:89\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
{"level":"error","timestamp":"2026-02-17T20:42:34.848+0800","caller":"core/migration.go:40","msg":"Database migration failed","error":"Error 1824 (HY000): Failed to open the referenced table 'sys_roles'","stacktrace":"k-admin-system/core.AutoMigrate\n\tE:/WorkSpace/Personal/K-Admin/backend/core/migration.go:40\nmain.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:89\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
{"level":"fatal","timestamp":"2026-02-17T20:42:34.848+0800","caller":"backend/main.go:90","msg":"Failed to run database migrations","error":"Error 1824 (HY000): Failed to open the referenced table 'sys_roles'","stacktrace":"main.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:90\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2026-02-17T20:43:13.824+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T20:43:14.149+0800","caller":"core/gorm.go:58","msg":"Database connected successfully","host":"localhost","port":3306,"database":"k_admin","max_idle_conns":10,"max_open_conns":100}
{"level":"info","timestamp":"2026-02-17T20:43:14.456+0800","caller":"core/redis.go:28","msg":"Redis connection established","host":"localhost","port":6379,"db":0}
{"level":"info","timestamp":"2026-02-17T20:43:14.468+0800","caller":"core/casbin.go:40","msg":"Casbin enforcer initialized successfully"}
{"level":"info","timestamp":"2026-02-17T20:43:14.468+0800","caller":"core/migration.go:36","msg":"Starting database migration..."}
{"level":"info","timestamp":"2026-02-17T20:43:14.937+0800","caller":"core/migration.go:25","msg":"Database tables registered for migration"}
{"level":"info","timestamp":"2026-02-17T20:43:14.937+0800","caller":"core/migration.go:44","msg":"Database migration completed successfully"}
{"level":"info","timestamp":"2026-02-17T20:43:14.939+0800","caller":"backend/main.go:135","msg":"Server starting","port":":8080"}
{"level":"info","timestamp":"2026-02-17T20:58:38.309+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/v1/system/user/login","status":404,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T20:58:46.375+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/v1/system/user/login","status":404,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:00:52.346+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T21:00:52.669+0800","caller":"core/gorm.go:58","msg":"Database connected successfully","host":"localhost","port":3306,"database":"k_admin","max_idle_conns":10,"max_open_conns":100}
{"level":"info","timestamp":"2026-02-17T21:00:52.976+0800","caller":"core/redis.go:28","msg":"Redis connection established","host":"localhost","port":6379,"db":0}
{"level":"info","timestamp":"2026-02-17T21:00:52.986+0800","caller":"core/casbin.go:40","msg":"Casbin enforcer initialized successfully"}
{"level":"info","timestamp":"2026-02-17T21:00:52.987+0800","caller":"core/migration.go:36","msg":"Starting database migration..."}
{"level":"info","timestamp":"2026-02-17T21:00:53.065+0800","caller":"core/migration.go:25","msg":"Database tables registered for migration"}
{"level":"info","timestamp":"2026-02-17T21:00:53.065+0800","caller":"core/migration.go:44","msg":"Database migration completed successfully"}
{"level":"info","timestamp":"2026-02-17T21:00:53.067+0800","caller":"backend/main.go:135","msg":"Server starting","port":":8080"}
{"level":"info","timestamp":"2026-02-17T21:01:02.974+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/v1/system/user/login","status":404,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:01:08.372+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/v1/system/user/login","status":404,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:02:10.246+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0011253,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:03:22.268+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.001059,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:03:25.495+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0014143,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:03:40.920+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0012104,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:05:01.249+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T21:05:01.571+0800","caller":"core/gorm.go:58","msg":"Database connected successfully","host":"localhost","port":3306,"database":"k_admin","max_idle_conns":10,"max_open_conns":100}
{"level":"info","timestamp":"2026-02-17T21:05:01.878+0800","caller":"core/redis.go:28","msg":"Redis connection established","host":"localhost","port":6379,"db":0}
{"level":"info","timestamp":"2026-02-17T21:05:01.888+0800","caller":"core/casbin.go:40","msg":"Casbin enforcer initialized successfully"}
{"level":"info","timestamp":"2026-02-17T21:05:01.889+0800","caller":"core/migration.go:99","msg":"Starting database migration..."}
{"level":"info","timestamp":"2026-02-17T21:05:01.953+0800","caller":"core/migration.go:26","msg":"Database tables registered for migration"}
{"level":"info","timestamp":"2026-02-17T21:05:01.953+0800","caller":"core/migration.go:107","msg":"Database migration completed successfully"}
{"level":"info","timestamp":"2026-02-17T21:05:01.953+0800","caller":"core/migration.go:37","msg":"Checking if initial data needs to be created..."}
{"level":"info","timestamp":"2026-02-17T21:05:01.954+0800","caller":"core/migration.go:51","msg":"Creating initial data..."}
{"level":"info","timestamp":"2026-02-17T21:05:01.969+0800","caller":"core/migration.go:66","msg":"Admin role created","roleId":1}
{"level":"info","timestamp":"2026-02-17T21:05:02.025+0800","caller":"core/migration.go:86","msg":"Admin user created","userId":1}
{"level":"info","timestamp":"2026-02-17T21:05:02.025+0800","caller":"core/migration.go:88","msg":"Initial data created successfully"}
{"level":"info","timestamp":"2026-02-17T21:05:02.026+0800","caller":"backend/main.go:135","msg":"Server starting","port":":8080"}
{"level":"info","timestamp":"2026-02-17T21:05:13.610+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0449503,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:05:13.619+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:05:23.280+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0441504,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:05:25.914+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0449817,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:05:25.920+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:06:41.134+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0441253,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:06:43.339+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0443126,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:06:43.347+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:08:51.339+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.045618,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:08:51.383+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:09:22.766+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0439729,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:09:22.788+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:13:28.608+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0442687,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:13:28.626+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:15:16.502+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"POST","path":"/api/v1/user/login","status":200,"latency":0.0441376,"client_ip":"::1"}
{"level":"warn","timestamp":"2026-02-17T21:15:16.525+0800","caller":"middleware/casbin.go:53","msg":"Access denied for role: admin path: /api/v1/menu/tree method: GET"}
{"level":"info","timestamp":"2026-02-17T21:15:16.526+0800","caller":"middleware/logger.go:53","msg":"HTTP Request","method":"GET","path":"/api/v1/menu/tree","status":200,"latency":0.0029763,"client_ip":"::1"}
{"level":"info","timestamp":"2026-02-17T21:17:37.494+0800","caller":"backend/main.go:62","msg":"Application starting","mode":"debug","port":":8080"}
{"level":"info","timestamp":"2026-02-17T21:17:37.816+0800","caller":"core/gorm.go:58","msg":"Database connected successfully","host":"localhost","port":3306,"database":"k_admin","max_idle_conns":10,"max_open_conns":100}
{"level":"info","timestamp":"2026-02-17T21:17:38.125+0800","caller":"core/redis.go:28","msg":"Redis connection established","host":"localhost","port":6379,"db":0}
{"level":"info","timestamp":"2026-02-17T21:17:38.136+0800","caller":"core/casbin.go:40","msg":"Casbin enforcer initialized successfully"}
{"level":"info","timestamp":"2026-02-17T21:17:38.136+0800","caller":"core/migration.go:99","msg":"Starting database migration..."}
{"level":"info","timestamp":"2026-02-17T21:17:38.200+0800","caller":"core/migration.go:26","msg":"Database tables registered for migration"}
{"level":"info","timestamp":"2026-02-17T21:17:38.200+0800","caller":"core/migration.go:107","msg":"Database migration completed successfully"}
{"level":"info","timestamp":"2026-02-17T21:17:38.200+0800","caller":"core/migration.go:37","msg":"Checking if initial data needs to be created..."}
{"level":"info","timestamp":"2026-02-17T21:17:38.201+0800","caller":"core/migration.go:47","msg":"Initial data already exists, skipping initialization"}
{"level":"info","timestamp":"2026-02-17T21:17:38.202+0800","caller":"backend/main.go:135","msg":"Server starting","port":":8080"}
{"level":"fatal","timestamp":"2026-02-17T21:17:38.203+0800","caller":"backend/main.go:137","msg":"Failed to start server","error":"listen tcp :8080: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"main.main\n\tE:/WorkSpace/Personal/K-Admin/backend/main.go:137\nruntime.main\n\tC:/DevEnv/Go/src/runtime/proc.go:285"}
